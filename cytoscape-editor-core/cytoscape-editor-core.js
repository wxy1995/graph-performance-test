!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n(require("cytoscape")):"function"==typeof define&&define.amd?define(["cytoscape"],n):"object"==typeof exports?exports.CytoscapeEditorCore=n(require("cytoscape")):t.CytoscapeEditorCore=n(t.cytoscape)}(window,function(t){return function(t){var n={};function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)e.d(r,o,function(n){return t[n]}.bind(null,o));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=30)}([function(t,n,e){window,t.exports=function(t){var n={};function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)e.d(r,o,function(n){return t[n]}.bind(null,o));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=133)}([function(t,n){t.exports=function(t){var n=typeof t;return null!=t&&("object"==n||"function"==n)}},function(t,n){var e=Array.isArray;t.exports=e},function(t,n){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,n,e){var r=e(39),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();t.exports=i},function(t,n,e){var r=e(12),o=e(119),i=e(118),u=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":u&&u in Object(t)?o(t):i(t)}},function(t,n,e){var r=e(85),o=e(2),i=Object.prototype,u=i.hasOwnProperty,a=i.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(t){return o(t)&&u.call(t,"callee")&&!a.call(t,"callee")};t.exports=c},function(t,n){var e=/^(?:0|[1-9]\d*)$/;t.exports=function(t,n){var r=typeof t;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&e.test(t))&&t>-1&&t%1==0&&t<n}},function(t,n,e){var r=e(96);t.exports=function(t,n){var e=t.__data__;return r(n)?e["string"==typeof n?"string":"hash"]:e.map}},function(t,n){t.exports=function(t,n){return t===n||t!=t&&n!=n}},function(t,n,e){var r=e(8);t.exports=function(t,n){for(var e=t.length;e--;)if(r(t[e][0],n))return e;return-1}},function(t,n,e){var r=e(102),o=e(101),i=e(100),u=e(99),a=e(98);function c(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=u,c.prototype.set=a,t.exports=c},function(t,n,e){var r=e(21)(Object,"create");t.exports=r},function(t,n,e){var r=e(3).Symbol;t.exports=r},function(t,n,e){var r=e(1),o=e(121),i=e(117),u=e(92);t.exports=function(t,n){return r(t)?t:o(t,n)?[t]:i(u(t))}},function(t,n,e){var r=e(40);t.exports=function(t){return r(t)?"":t.toString()}},function(t,n,e){var r=e(20),o=e(17);t.exports=function(t){return null!=t&&o(t.length)&&!r(t)}},function(t,n){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,n){t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},function(t,n,e){var r=e(35);t.exports=function(t,n,e){"__proto__"==n&&r?r(t,n,{configurable:!0,enumerable:!0,value:e,writable:!0}):t[n]=e}},function(t,n,e){var r=e(22);t.exports=function(t){if("string"==typeof t||r(t))return t;var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},function(t,n,e){var r=e(4),o=e(0);t.exports=function(t){if(!o(t))return!1;var n=r(t);return"[object Function]"==n||"[object GeneratorFunction]"==n||"[object AsyncFunction]"==n||"[object Proxy]"==n}},function(t,n,e){var r=e(111),o=e(107);t.exports=function(t,n){var e=o(t,n);return r(e)?e:void 0}},function(t,n,e){var r=e(4),o=e(2);t.exports=function(t){return"symbol"==typeof t||o(t)&&"[object Symbol]"==r(t)}},function(t,n){var e={}.toString;t.exports=function(t,n){return e.call(t)==="[object "+n+"]"}},function(t,n,e){var r=e(23);t.exports=function(t){return r(t,"Function")}},function(t,n,e){var r=e(48),o=e(46),i=e(15);t.exports=function(t){return i(t)?r(t,!0):o(t)}},function(t,n){t.exports=function(t,n){if(("constructor"!==n||"function"!=typeof t[n])&&"__proto__"!=n)return t[n]}},function(t,n,e){var r=e(53),o=e(52),i=e(51),u=i&&i.isTypedArray,a=u?o(u):r;t.exports=a},function(t,n,e){(function(t){var r=e(3),o=e(55),i="object"==typeof n&&n&&!n.nodeType&&n,u=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=u&&u.exports===i?r.Buffer:void 0,c=(a?a.isBuffer:void 0)||o;t.exports=c}).call(this,e(16)(t))},function(t,n){var e=Object.prototype;t.exports=function(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||e)}},function(t,n,e){var r=e(57)(Object.getPrototypeOf,Object);t.exports=r},function(t,n,e){var r=e(18),o=e(8);t.exports=function(t,n,e){(void 0===e||o(t[n],e))&&(void 0!==e||n in t)||r(t,n,e)}},function(t,n){t.exports=function(t){return t}},function(t,n,e){var r=e(78),o=e(76)(r);t.exports=o},function(t,n,e){var r=e(79),o=Math.max;t.exports=function(t,n,e){return n=o(void 0===n?t.length-1:n,0),function(){for(var i=arguments,u=-1,a=o(i.length-n,0),c=Array(a);++u<a;)c[u]=i[n+u];u=-1;for(var s=Array(n+1);++u<n;)s[u]=i[u];return s[n]=e(c),r(t,this,s)}}},function(t,n,e){var r=e(21),o=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=o},function(t,n,e){var r=e(18),o=e(8),i=Object.prototype.hasOwnProperty;t.exports=function(t,n,e){var u=t[n];i.call(t,n)&&o(u,e)&&(void 0!==e||n in t)||r(t,n,e)}},function(t,n,e){var r=e(21)(e(3),"Map");t.exports=r},function(t,n,e){var r=e(114),o=e(97),i=e(95),u=e(94),a=e(93);function c(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=u,c.prototype.set=a,t.exports=c},function(t,n,e){(function(n){var e="object"==typeof n&&n&&n.Object===Object&&n;t.exports=e}).call(this,e(120))},function(t,n){t.exports=function(t){return null===t||void 0===t}},function(t,n){function e(t,n){for(var e in n)n.hasOwnProperty(e)&&"constructor"!==e&&void 0!==n[e]&&(t[e]=n[e])}t.exports=function(t,n,r,o){return n&&e(t,n),r&&e(t,r),o&&e(t,o),t}},function(t,n,e){var r=e(8),o=e(15),i=e(6),u=e(0);t.exports=function(t,n,e){if(!u(e))return!1;var a=typeof n;return!!("number"==a?o(e)&&i(n,e.length):"string"==a&&n in e)&&r(e[n],t)}},function(t,n,e){var r=e(32),o=e(34),i=e(33);t.exports=function(t,n){return i(o(t,n,r),t+"")}},function(t,n,e){var r=e(43),o=e(42);t.exports=function(t){return r(function(n,e){var r=-1,i=e.length,u=i>1?e[i-1]:void 0,a=i>2?e[2]:void 0;for(u=t.length>3&&"function"==typeof u?(i--,u):void 0,a&&o(e[0],e[1],a)&&(u=i<3?void 0:u,i=1),n=Object(n);++r<i;){var c=e[r];c&&t(n,c,r,u)}return n})}},function(t,n){t.exports=function(t){var n=[];if(null!=t)for(var e in Object(t))n.push(e);return n}},function(t,n,e){var r=e(0),o=e(29),i=e(45),u=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var n=o(t),e=[];for(var a in t)("constructor"!=a||!n&&u.call(t,a))&&e.push(a);return e}},function(t,n){t.exports=function(t,n){for(var e=-1,r=Array(t);++e<t;)r[e]=n(e);return r}},function(t,n,e){var r=e(47),o=e(5),i=e(1),u=e(28),a=e(6),c=e(27),s=Object.prototype.hasOwnProperty;t.exports=function(t,n){var e=i(t),f=!e&&o(t),p=!e&&!f&&u(t),d=!e&&!f&&!p&&c(t),l=e||f||p||d,v=l?r(t.length,String):[],h=v.length;for(var g in t)!n&&!s.call(t,g)||l&&("length"==g||p&&("offset"==g||"parent"==g)||d&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||a(g,h))||v.push(g);return v}},function(t,n,e){var r=e(36),o=e(18);t.exports=function(t,n,e,i){var u=!e;e||(e={});for(var a=-1,c=n.length;++a<c;){var s=n[a],f=i?i(e[s],t[s],s,e,t):void 0;void 0===f&&(f=t[s]),u?o(e,s,f):r(e,s,f)}return e}},function(t,n,e){var r=e(49),o=e(25);t.exports=function(t){return r(t,o(t))}},function(t,n,e){(function(t){var r=e(39),o="object"==typeof n&&n&&!n.nodeType&&n,i=o&&"object"==typeof t&&t&&!t.nodeType&&t,u=i&&i.exports===o&&r.process,a=function(){try{var t=i&&i.require&&i.require("util").types;return t||u&&u.binding&&u.binding("util")}catch(t){}}();t.exports=a}).call(this,e(16)(t))},function(t,n){t.exports=function(t){return function(n){return t(n)}}},function(t,n,e){var r=e(4),o=e(17),i=e(2),u={};u["[object Float32Array]"]=u["[object Float64Array]"]=u["[object Int8Array]"]=u["[object Int16Array]"]=u["[object Int32Array]"]=u["[object Uint8Array]"]=u["[object Uint8ClampedArray]"]=u["[object Uint16Array]"]=u["[object Uint32Array]"]=!0,u["[object Arguments]"]=u["[object Array]"]=u["[object ArrayBuffer]"]=u["[object Boolean]"]=u["[object DataView]"]=u["[object Date]"]=u["[object Error]"]=u["[object Function]"]=u["[object Map]"]=u["[object Number]"]=u["[object Object]"]=u["[object RegExp]"]=u["[object Set]"]=u["[object String]"]=u["[object WeakMap]"]=!1,t.exports=function(t){return i(t)&&o(t.length)&&!!u[r(t)]}},function(t,n,e){var r=e(4),o=e(30),i=e(2),u=Function.prototype,a=Object.prototype,c=u.toString,s=a.hasOwnProperty,f=c.call(Object);t.exports=function(t){if(!i(t)||"[object Object]"!=r(t))return!1;var n=o(t);if(null===n)return!0;var e=s.call(n,"constructor")&&n.constructor;return"function"==typeof e&&e instanceof e&&c.call(e)==f}},function(t,n){t.exports=function(){return!1}},function(t,n,e){var r=e(15),o=e(2);t.exports=function(t){return o(t)&&r(t)}},function(t,n){t.exports=function(t,n){return function(e){return t(n(e))}}},function(t,n,e){var r=e(0),o=Object.create,i=function(){function t(){}return function(n){if(!r(n))return{};if(o)return o(n);t.prototype=n;var e=new t;return t.prototype=void 0,e}}();t.exports=i},function(t,n,e){var r=e(58),o=e(30),i=e(29);t.exports=function(t){return"function"!=typeof t.constructor||i(t)?{}:r(o(t))}},function(t,n){t.exports=function(t,n){var e=-1,r=t.length;for(n||(n=Array(r));++e<r;)n[e]=t[e];return n}},function(t,n,e){var r=e(3).Uint8Array;t.exports=r},function(t,n,e){var r=e(61);t.exports=function(t){var n=new t.constructor(t.byteLength);return new r(n).set(new r(t)),n}},function(t,n,e){var r=e(62);t.exports=function(t,n){var e=n?r(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.length)}},function(t,n,e){(function(t){var r=e(3),o="object"==typeof n&&n&&!n.nodeType&&n,i=o&&"object"==typeof t&&t&&!t.nodeType&&t,u=i&&i.exports===o?r.Buffer:void 0,a=u?u.allocUnsafe:void 0;t.exports=function(t,n){if(n)return t.slice();var e=t.length,r=a?a(e):new t.constructor(e);return t.copy(r),r}}).call(this,e(16)(t))},function(t,n,e){var r=e(31),o=e(64),i=e(63),u=e(60),a=e(59),c=e(5),s=e(1),f=e(56),p=e(28),d=e(20),l=e(0),v=e(54),h=e(27),g=e(26),y=e(50);t.exports=function(t,n,e,m,x,b,_){var j=g(t,e),w=g(n,e),O=_.get(w);if(O)r(t,e,O);else{var E=b?b(j,w,e+"",t,n,_):void 0,S=void 0===E;if(S){var k=s(w),A=!k&&p(w),C=!k&&!A&&h(w);E=w,k||A||C?s(j)?E=j:f(j)?E=u(j):A?(S=!1,E=o(w,!0)):C?(S=!1,E=i(w,!0)):E=[]:v(w)||c(w)?(E=j,c(j)?E=y(j):l(j)&&!d(j)||(E=a(w))):S=!1}S&&(_.set(w,E),x(E,w,m,b,_),_.delete(w)),r(t,e,E)}}},function(t,n){t.exports=function(t){return function(n,e,r){for(var o=-1,i=Object(n),u=r(n),a=u.length;a--;){var c=u[t?a:++o];if(!1===e(i[c],c,i))break}return n}}},function(t,n,e){var r=e(66)();t.exports=r},function(t,n,e){var r=e(10),o=e(37),i=e(38);t.exports=function(t,n){var e=this.__data__;if(e instanceof r){var u=e.__data__;if(!o||u.length<199)return u.push([t,n]),this.size=++e.size,this;e=this.__data__=new i(u)}return e.set(t,n),this.size=e.size,this}},function(t,n){t.exports=function(t){return this.__data__.has(t)}},function(t,n){t.exports=function(t){return this.__data__.get(t)}},function(t,n){t.exports=function(t){var n=this.__data__,e=n.delete(t);return this.size=n.size,e}},function(t,n,e){var r=e(10);t.exports=function(){this.__data__=new r,this.size=0}},function(t,n,e){var r=e(10),o=e(72),i=e(71),u=e(70),a=e(69),c=e(68);function s(t){var n=this.__data__=new r(t);this.size=n.size}s.prototype.clear=o,s.prototype.delete=i,s.prototype.get=u,s.prototype.has=a,s.prototype.set=c,t.exports=s},function(t,n,e){var r=e(73),o=e(31),i=e(67),u=e(65),a=e(0),c=e(25),s=e(26);t.exports=function t(n,e,f,p,d){n!==e&&i(e,function(i,c){if(d||(d=new r),a(i))u(n,e,c,f,t,p,d);else{var l=p?p(s(n,c),i,c+"",n,e,d):void 0;void 0===l&&(l=i),o(n,c,l)}},c)}},function(t,n,e){var r=e(74),o=e(44)(function(t,n,e){r(t,n,e)});t.exports=o},function(t,n){var e=Date.now;t.exports=function(t){var n=0,r=0;return function(){var o=e(),i=16-(o-r);if(r=o,i>0){if(++n>=800)return arguments[0]}else n=0;return t.apply(void 0,arguments)}}},function(t,n){t.exports=function(t){return function(){return t}}},function(t,n,e){var r=e(77),o=e(35),i=e(32),u=o?function(t,n){return o(t,"toString",{configurable:!0,enumerable:!1,value:r(n),writable:!0})}:i;t.exports=u},function(t,n){t.exports=function(t,n,e){switch(e.length){case 0:return t.call(n);case 1:return t.call(n,e[0]);case 2:return t.call(n,e[0],e[1]);case 3:return t.call(n,e[0],e[1],e[2])}return t.apply(n,e)}},function(t,n,e){var r=e(12),o=e(5),i=e(1),u=r?r.isConcatSpreadable:void 0;t.exports=function(t){return i(t)||o(t)||!!(u&&t&&t[u])}},function(t,n){t.exports=function(t,n){for(var e=-1,r=n.length,o=t.length;++e<r;)t[o+e]=n[e];return t}},function(t,n,e){var r=e(81),o=e(80);t.exports=function t(n,e,i,u,a){var c=-1,s=n.length;for(i||(i=o),a||(a=[]);++c<s;){var f=n[c];e>0&&i(f)?e>1?t(f,e-1,i,u,a):r(a,f):u||(a[a.length]=f)}return a}},function(t,n,e){var r=e(82);t.exports=function(t){return null!=t&&t.length?r(t,1):[]}},function(t,n,e){var r=e(83),o=e(34),i=e(33);t.exports=function(t){return i(o(t,void 0,r),t+"")}},function(t,n,e){var r=e(4),o=e(2);t.exports=function(t){return o(t)&&"[object Arguments]"==r(t)}},function(t,n,e){var r=e(13),o=e(5),i=e(1),u=e(6),a=e(17),c=e(19);t.exports=function(t,n,e){for(var s=-1,f=(n=r(n,t)).length,p=!1;++s<f;){var d=c(n[s]);if(!(p=null!=t&&e(t,d)))break;t=t[d]}return p||++s!=f?p:!!(f=null==t?0:t.length)&&a(f)&&u(d,f)&&(i(t)||o(t))}},function(t,n){t.exports=function(t,n){return null!=t&&n in Object(t)}},function(t,n,e){var r=e(87),o=e(86);t.exports=function(t,n){return null!=t&&o(t,n,r)}},function(t,n,e){var r=e(36),o=e(13),i=e(6),u=e(0),a=e(19);t.exports=function(t,n,e,c){if(!u(t))return t;for(var s=-1,f=(n=o(n,t)).length,p=f-1,d=t;null!=d&&++s<f;){var l=a(n[s]),v=e;if(s!=p){var h=d[l];void 0===(v=c?c(h,l,d):void 0)&&(v=u(h)?h:i(n[s+1])?[]:{})}r(d,l,v),d=d[l]}return t}},function(t,n){t.exports=function(t,n){for(var e=-1,r=null==t?0:t.length,o=Array(r);++e<r;)o[e]=n(t[e],e,t);return o}},function(t,n,e){var r=e(12),o=e(90),i=e(1),u=e(22),a=r?r.prototype:void 0,c=a?a.toString:void 0;t.exports=function t(n){if("string"==typeof n)return n;if(i(n))return o(n,t)+"";if(u(n))return c?c.call(n):"";var e=n+"";return"0"==e&&1/n==-1/0?"-0":e}},function(t,n,e){var r=e(91);t.exports=function(t){return null==t?"":r(t)}},function(t,n,e){var r=e(7);t.exports=function(t,n){var e=r(this,t),o=e.size;return e.set(t,n),this.size+=e.size==o?0:1,this}},function(t,n,e){var r=e(7);t.exports=function(t){return r(this,t).has(t)}},function(t,n,e){var r=e(7);t.exports=function(t){return r(this,t).get(t)}},function(t,n){t.exports=function(t){var n=typeof t;return"string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==t:null===t}},function(t,n,e){var r=e(7);t.exports=function(t){var n=r(this,t).delete(t);return this.size-=n?1:0,n}},function(t,n,e){var r=e(9);t.exports=function(t,n){var e=this.__data__,o=r(e,t);return o<0?(++this.size,e.push([t,n])):e[o][1]=n,this}},function(t,n,e){var r=e(9);t.exports=function(t){return r(this.__data__,t)>-1}},function(t,n,e){var r=e(9);t.exports=function(t){var n=this.__data__,e=r(n,t);return e<0?void 0:n[e][1]}},function(t,n,e){var r=e(9),o=Array.prototype.splice;t.exports=function(t){var n=this.__data__,e=r(n,t);return!(e<0||(e==n.length-1?n.pop():o.call(n,e,1),--this.size,0))}},function(t,n){t.exports=function(){this.__data__=[],this.size=0}},function(t,n,e){var r=e(11);t.exports=function(t,n){var e=this.__data__;return this.size+=this.has(t)?0:1,e[t]=r&&void 0===n?"__lodash_hash_undefined__":n,this}},function(t,n,e){var r=e(11),o=Object.prototype.hasOwnProperty;t.exports=function(t){var n=this.__data__;return r?void 0!==n[t]:o.call(n,t)}},function(t,n,e){var r=e(11),o=Object.prototype.hasOwnProperty;t.exports=function(t){var n=this.__data__;if(r){var e=n[t];return"__lodash_hash_undefined__"===e?void 0:e}return o.call(n,t)?n[t]:void 0}},function(t,n){t.exports=function(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}},function(t,n){t.exports=function(t,n){return null==t?void 0:t[n]}},function(t,n){var e=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return e.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,n,e){var r=e(3)["__core-js_shared__"];t.exports=r},function(t,n,e){var r=e(109),o=function(){var t=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=function(t){return!!o&&o in t}},function(t,n,e){var r=e(20),o=e(110),i=e(0),u=e(108),a=/^\[object .+?Constructor\]$/,c=Function.prototype,s=Object.prototype,f=c.toString,p=s.hasOwnProperty,d=RegExp("^"+f.call(p).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!i(t)||o(t))&&(r(t)?d:a).test(u(t))}},function(t,n,e){var r=e(11);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(t,n,e){var r=e(112),o=e(106),i=e(105),u=e(104),a=e(103);function c(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=u,c.prototype.set=a,t.exports=c},function(t,n,e){var r=e(113),o=e(10),i=e(37);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},function(t,n,e){var r=e(38),o="Expected a function";function i(t,n){if("function"!=typeof t||null!=n&&"function"!=typeof n)throw new TypeError(o);var e=function(){var r=arguments,o=n?n.apply(this,r):r[0],i=e.cache;if(i.has(o))return i.get(o);var u=t.apply(this,r);return e.cache=i.set(o,u)||i,u};return e.cache=new(i.Cache||r),e}i.Cache=r,t.exports=i},function(t,n,e){var r=e(115);t.exports=function(t){var n=r(t,function(t){return 500===e.size&&e.clear(),t}),e=n.cache;return n}},function(t,n,e){var r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,i=e(116)(function(t){var n=[];return 46===t.charCodeAt(0)&&n.push(""),t.replace(r,function(t,e,r,i){n.push(r?i.replace(o,"$1"):e||t)}),n});t.exports=i},function(t,n){var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},function(t,n,e){var r=e(12),o=Object.prototype,i=o.hasOwnProperty,u=o.toString,a=r?r.toStringTag:void 0;t.exports=function(t){var n=i.call(t,a),e=t[a];try{t[a]=void 0;var r=!0}catch(t){}var o=u.call(t);return r&&(n?t[a]=e:delete t[a]),o}},function(t,n){var e;e=function(){return this}();try{e=e||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(e=window)}t.exports=e},function(t,n,e){var r=e(1),o=e(22),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,u=/^\w*$/;t.exports=function(t,n){if(r(t))return!1;var e=typeof t;return!("number"!=e&&"symbol"!=e&&"boolean"!=e&&null!=t&&!o(t))||u.test(t)||!i.test(t)||null!=n&&t in Object(n)}},function(t,n,e){var r=e(13),o=e(19);t.exports=function(t,n){for(var e=0,i=(n=r(n,t)).length;null!=t&&e<i;)t=t[o(n[e++])];return e&&e==i?t:void 0}},function(t,n,e){var r=e(122),o=e(89),i=e(13);t.exports=function(t,n,e){for(var u=-1,a=n.length,c={};++u<a;){var s=n[u],f=r(t,s);e(f,s)&&o(c,i(s,t),f)}return c}},function(t,n,e){var r=e(123),o=e(88);t.exports=function(t,n){return r(t,n,function(n,e){return o(t,e)})}},function(t,n,e){var r=e(124),o=e(84)(function(t,n){return null==t?{}:r(t,n)});t.exports=o},function(t,n,e){var r=e(14);t.exports=function(t){var n=r(t);return n.charAt(0).toUpperCase()+n.substring(1)}},function(t,n,e){var r=e(14);t.exports=function(t){var n=r(t);return n.charAt(0).toLowerCase()+n.substring(1)}},function(t,n,e){var r=e(23);t.exports=function(t){return r(t,"String")}},function(t,n,e){var r=e(14),o={whitespace:{9:"Tab",13:"Enter",32:"Space"},fn:{112:"f1 ",113:"f2 ",114:"f3 ",115:"f4 ",116:"f5 ",117:"f6 ",118:"f7 ",119:"f8 ",120:"f9 ",121:"f10",122:"f11",123:"f12"},letter:{65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z"},number:{48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9"},navigation:{37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown"},symbol:{110:"decimal point",186:"semi-colon",187:"=",188:"comma",189:"-",190:"period ",191:"/",192:"grave accent",219:"open bracket ",220:"back slash ",221:"close bracket ",222:"single quote "},smallNumberKey:{96:"numpad 0 ",97:"numpad 1 ",98:"numpad 2 ",99:"numpad 3 ",100:"numpad 4 ",101:"numpad 5 ",102:"numpad 6 ",103:"numpad 7 ",104:"numpad 8 ",105:"numpad 9 "},modifierKey:{16:"Shift",17:"Ctrl ",18:"Alt",20:"caps lock"},escKey:{8:"Backspace",46:"Delete",27:"Escape"},homeKey:{91:"Windows Key / Left command",92:"right window key ",93:"Windows Menu"},computeKey:{106:"multiply ",107:"add",109:"subtract ",111:"divide "}};t.exports=function(t){return t.key||function(t){for(var n in t=r(t),o)for(var e in o[n])if(e===t)return{type:n,character:o[n][e]};return{}}(t.keyCode).character}},function(t,n){t.exports=function(t,n){if(t)if(Array.isArray(t))for(var e=0,r=t.length;e<r&&!1!==n(t[e],e);e++);else if("object"==typeof t&&null!==typeof t)for(var o in t)if(t.hasOwnProperty(o)&&!1===n(t[o],o))break}},function(t,n,e){var r=e(41),o=e(24);t.exports=function(){for(var t=arguments.length<=0?void 0:arguments[0],n=1;n<arguments.length;n++){var e=n<0||arguments.length<=n?void 0:arguments[n];o(e)&&(e=e.prototype),r(t.prototype,e)}}},function(t,n,e){var r=e(24);t.exports=function(t,n,e){if(t){if(r(t.addEventListener))return t.addEventListener(n,e,!1),{remove:function(){t.removeEventListener(n,e,!1)}};if(r(t.attachEvent))return t.attachEvent("on"+n,e),{remove:function(){t.detachEvent("on"+n,e)}}}}},function(t,n,e){t.exports={addEventListener:e(132),augment:e(131),each:e(130),getKeyboardChar:e(129),isFunction:e(24),isNil:e(40),isString:e(128),isType:e(23),lowerFirst:e(127),mix:e(41),toString:e(14),upperFirst:e(126),pick:e(125),merge:e(75)}}])},function(t,n,e){var r=e(11);t.exports=r},function(t,n,e){var r=e(12);t.exports=r},function(t,n,e){var r=e(23);[e(22),e(21),e(20),e(19),e(18),e(17),e(16),e(15),e(14),e(13)].forEach(function(t){r.register(t.name,t)}),t.exports=r},function(t,n){function e(t,n){var r=n.connectedEdges().remove(),o=n.children(),i=r;return null!=o&&o.length>0&&(i=i.union(e(t,o))),i=i.union(n.remove()),t.nodes().updateCompoundBounds(),i}function r(t,n,r,o){for(var i=e(t,n),u=0;u<i.length;u++){var a=i[u];a._private.data.parent!==r||a._private.data.source||(a._private.data.parent=o,a._private.parent&&delete a._private.parent)}t.batch(function(){t.add(i),t.nodes().updateCompoundBounds()})}t.exports={removeEles:e,updateParent:r,compoundNodes:function(t,n,e){return r(t,e,e[0].data("parent"),n.id()),n},unCompoundNodes:function(t,n){var e=n.id(),o=n.data("parent"),i=n.children();return r(t,i,e,o),{removedCompound:n.remove(),removedCompoundChildren:i}}}},function(n,e){n.exports=t},function(t,n,e){var r=e(0),o=function(){function t(t){var n=this.getDefaultCfg();r.mix(this,n,t),this.init()}var n=t.prototype;return n.getDefaultCfg=function(){return{}},n.init=function(){},n.destroy=function(){this.destroyed=!0},t}();t.exports=o},function(t,n,e){var r=e(6),o=e(0),i=function(t){function n(n){return t.call(this,n)||this}!function(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n}(n,t);var e=n.prototype;return e.getDefaultCfg=function(){return{type:"toolbar",container:null}},e.init=function(){this._initContainer()},e._initContainer=function(){if(!this.container)throw new Error("please set the container for the toolbar !");o.isString(this.container)&&(this.container=document.getElementById(this.container))},e.getCommandDoms=function(){var t=this.container.getElementsByClassName("command");return this.commands=t,this.commands},n}(r);t.exports=i},function(t,n,e){var r;
/*!
 * EventEmitter v5.2.6 - git.io/ee
 * Unlicense - http://unlicense.org/
 * Oliver Caldwell - https://oli.me.uk/
 * @preserve
 */!function(n){"use strict";function o(){}var i=o.prototype,u=n.EventEmitter;function a(t,n){for(var e=t.length;e--;)if(t[e].listener===n)return e;return-1}function c(t){return function(){return this[t].apply(this,arguments)}}i.getListeners=function(t){var n,e,r=this._getEvents();if(t instanceof RegExp)for(e in n={},r)r.hasOwnProperty(e)&&t.test(e)&&(n[e]=r[e]);else n=r[t]||(r[t]=[]);return n},i.flattenListeners=function(t){var n,e=[];for(n=0;n<t.length;n+=1)e.push(t[n].listener);return e},i.getListenersAsObject=function(t){var n,e=this.getListeners(t);return e instanceof Array&&((n={})[t]=e),n||e},i.addListener=function(t,n){if(!function t(n){return"function"==typeof n||n instanceof RegExp||!(!n||"object"!=typeof n)&&t(n.listener)}(n))throw new TypeError("listener must be a function");var e,r=this.getListenersAsObject(t),o="object"==typeof n;for(e in r)r.hasOwnProperty(e)&&-1===a(r[e],n)&&r[e].push(o?n:{listener:n,once:!1});return this},i.on=c("addListener"),i.addOnceListener=function(t,n){return this.addListener(t,{listener:n,once:!0})},i.once=c("addOnceListener"),i.defineEvent=function(t){return this.getListeners(t),this},i.defineEvents=function(t){for(var n=0;n<t.length;n+=1)this.defineEvent(t[n]);return this},i.removeListener=function(t,n){var e,r,o=this.getListenersAsObject(t);for(r in o)o.hasOwnProperty(r)&&-1!==(e=a(o[r],n))&&o[r].splice(e,1);return this},i.off=c("removeListener"),i.addListeners=function(t,n){return this.manipulateListeners(!1,t,n)},i.removeListeners=function(t,n){return this.manipulateListeners(!0,t,n)},i.manipulateListeners=function(t,n,e){var r,o,i=t?this.removeListener:this.addListener,u=t?this.removeListeners:this.addListeners;if("object"!=typeof n||n instanceof RegExp)for(r=e.length;r--;)i.call(this,n,e[r]);else for(r in n)n.hasOwnProperty(r)&&(o=n[r])&&("function"==typeof o?i.call(this,r,o):u.call(this,r,o));return this},i.removeEvent=function(t){var n,e=typeof t,r=this._getEvents();if("string"===e)delete r[t];else if(t instanceof RegExp)for(n in r)r.hasOwnProperty(n)&&t.test(n)&&delete r[n];else delete this._events;return this},i.removeAllListeners=c("removeEvent"),i.emitEvent=function(t,n){var e,r,o,i,u=this.getListenersAsObject(t);for(i in u)if(u.hasOwnProperty(i))for(e=u[i].slice(0),o=0;o<e.length;o++)!0===(r=e[o]).once&&this.removeListener(t,r.listener),r.listener.apply(this,n||[])===this._getOnceReturnValue()&&this.removeListener(t,r.listener);return this},i.trigger=c("emitEvent"),i.emit=function(t){var n=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,n)},i.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},i._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},i._getEvents=function(){return this._events||(this._events={})},o.noConflict=function(){return n.EventEmitter=u,o},void 0===(r=function(){return o}.call(n,e,n,t))||(t.exports=r)}("undefined"!=typeof window?window:this||{})},function(t,n,e){var r=e(0),o=function(t){function n(n){var e,o=(e=t.call(this)||this).getDefaultCfg();return e._cfg=r.mix({},e._cfg,o,n),e}!function(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n}(n,t);var e=n.prototype;return e.getDefaultCfg=function(){return{}},e.get=function(t){return this._cfg[t]},e.set=function(t,n){this._cfg[t]=n},e.destroy=function(){this._cfg={},this.destroyed=!0},n}(e(8));t.exports=o},function(t,n){t.exports={wrapBehavior:function(t,n){if(t["_wrap_"+n])return t["_wrap_"+n];var e=function(e){t[n](e)};return t["_wrap_"+n]=e,e}}},function(t,n,e){var r=e(0),o=e(10).wrapBehavior,i={register:function(t,n){if(!n)throw new Error("please specify handler for this behavior:"+t);var e=function(t){var n=this;r.mix(n,n.getDefaultCfg(),t);var e=n.getEvents();if(e){var i={};r.each(e,function(t,e){i[e]=o(n,t)}),this._events=i}};r.augment(e,{shouldBegin:function(){return!0},shouldUpdate:function(){return!0},shouldEnd:function(){return!0},getEvents:function(){},bind:function(t){var n=this._events;this.graph=t,r.each(n,function(n,e){t.on(e,n)})},unbind:function(t){var n=this._events;r.each(n,function(n,e){t.off(e,n)})},get:function(t){return this[t]},set:function(t,n){return this[t]=n,this},getDefaultCfg:function(){}},n),i[t]=e},hasBehavior:function(t){return!!i[t]},getBehavior:function(t){return i[t]}};t.exports=i},function(t,n,e){var r=e(0),o={list:[],register:function(t,n){if(o[t])r.mix(o[t],n);else{var e=Object.assign({name:t,init:function(t){this.inited||(t.registerExtension(this.extension,this.dependPkgs),this.inited=!0)},inited:!1},n);o[t]=e,o.list.push(e)}},init:function(t,n,e){var i=r.mix({},o[n],e);return i.init(t),i}};t.exports=o},function(t,n){t.exports={name:"reset",execute:function(t){t.action.reset()}}},function(t,n){t.exports={name:"redo",execute:function(t){t.action.redo()}}},function(t,n){t.exports={name:"undo",execute:function(t){t.action.undo()}}},function(t,n){t.exports={name:"delete",enable:function(t){return t.graph.$(":selected").length>0},execute:function(t){var n=t.graph.$(":selected");n.length>0&&t.action.do("remove",n)},shortcuts:["Delete","Backspace"]}},function(t,n){t.exports={name:"paste",enable:function(t){var n=t.graph.scratch("_clipboard");return n&&n.nodes&&n.nodes.length>0},execute:function(t){var n=t.graph.scratch("_clipboard");t.action.do("paste",{firstTime:!0,pasteAtMousePos:this.byShortcut,jsons:n})},shortcuts:[["ctrlKey","v"]]}},function(t,n){t.exports={name:"copy",enable:function(t){return t.graph.$("node:selected").length>0},execute:function(t){var n=t.graph.$("node:selected");n.unselect();var e=n.nodes(),r=e.descendants(),o=(e=e.union(r)).edgesWith(e),i={nodes:e.jsons(),edges:o.jsons()};t.graph.scratch("_clipboard",i),t.updateCommandDomState()},shortcuts:[["ctrlKey","c"]]}},function(t,n){t.exports={name:"add-node",execute:function(t){t.action.do("add",{groups:"nodes",data:{name:"node"}})}}},function(t,n){t.exports={name:"add-edge",enable:function(t){return 2===t.graph.$("node:selected").length},execute:function(t){var n=t.graph.$("node:selected");t.action.do("add",{groups:"edges",data:{source:n[0].data("id"),target:n[1].data("id")}})}}},function(t,n){t.exports={name:"add-compound",enable:function(t){return 0!==t.graph.$("node:selected").length},execute:function(t){var n=t.graph.$("node:selected");t.action.do("add-compound",{firstTime:!0,nodesToMakeCompound:n})}}},function(t,n){t.exports={name:"un-compound",enable:function(t){return 0!==t.graph.$("node:selected").length},execute:function(t){var n=t.graph.$(":selected").filter(":parent");t.action.do("un-compound",n)}}},function(t,n,e){var r=e(0),o={list:[],register:function(t,n,e){if(o[t])r.mix(o[t],n);else{var i=Object.assign({name:t,enable:function(t){return!0},init:function(t){},execute:function(t){var n=t.graph;this.method&&(r.isString(this.method)?n[this.method]():this.method(t))}},n);e&&o[e]&&(i=r.mix({},o[e],n)),o[t]=i,o.list.push(i)}},enable:function(t,n){return o[n]&&o[n].enable(t)},execute:function(t,n,e){var i=r.mix({},o[n],e);return i.enable(t)&&(i.init(t),i.execute(t),t.updateCommandDomState()),i}};t.exports=o},function(t,n){function e(){return function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}()}function r(t,n,r){var o,i,u,a,c,s,f,p,d={};t=Object.assign([],t);for(var l=0;l<t.length;l++){var v=t[l],h=e();d[v.data.id]=h,v.data.id=h}if(void 0!==t[0]&&t[0].position.x){o=t[0].position.x,i=t[0].position.y,u=t[0].position.x,a=t[0].position.y;for(var g=1;g<t.length;g++){var y=t[g];y.position.x<o&&(o=y.position.x),y.position.y<i&&(i=y.position.y),y.position.x>u&&(u=y.position.x),y.position.y>a&&(a=y.position.y)}!1!==n&&(c=(o+u)/2,s=(i+a)/2,f=r.x-c,p=r.y-s)}for(var m=0;m<t.length;m++){for(var x=t[m],b=["source","target","parent"],_=0;_<b.length;_++){var j=b[_];x.data[j]&&d[x.data[j]]&&(x.data[j]=d[x.data[j]])}x.position.x&&(!1===n?(x.position.x+=50,x.position.y+=50):(x.position.x+=f,x.position.y+=p))}return t}t.exports={name:"paste",_do:function(t){var n=this;if(t.firstTime){var e,o=t.pasteAtMousePos?this.graph.scratch("_mousePosition"):{},i=r(t.jsons.nodes,t.pasteAtMousePos,o),u=r(t.jsons.edges,t.pasteAtMousePos,o);return this.graph.batch(function(){e=n.graph.add(i).union(n.graph.add(u))}),e}return t.restore()},_undo:function(t){return t.remove()}}},function(t,n,e){var r=e(4),o=r.compoundNodes,i=r.unCompoundNodes;t.exports={name:"un-compound",_do:function(t){var n;return n=t.firstTime?t[0]:t,i(this.graph,n)},_undo:function(t){var n=t.removedCompoundChildren,e=t.removedCompound.restore();return o(this.graph,e,n)}}},function(t,n,e){var r=e(4),o=r.compoundNodes,i=r.unCompoundNodes;t.exports={name:"add-compound",_do:function(t){var n,e;if(t.firstTime){var r={group:"nodes",data:{parent:(e=t.nodesToMakeCompound)[0].data("parent")}},i=this.graph.add(r);n=i[i.length-1]}else e=t.removedCompoundChildren,n=t.removedCompound.restore();return o(this.graph,n,e)},_undo:function(t){return i(this.graph,t)}}},function(t,n,e){t.exports=[e(26),e(25),e(24)]},function(t,n,e){var r;!function(){"use strict";var o=function(t){function n(t,n){void 0===t.scratch("_undoRedo")&&t.scratch("_undoRedo",{});var e=t.scratch("_undoRedo");return void 0===n?e:e[n]}function e(t,e,r){var o=n(t);o[e]=r,t.scratch("_undoRedo",o)}t&&t("core","undoRedo",function(t,r){var o=this,i=n(o,"instance")||function(t){var n={options:{isDebug:!1,actions:{},undoableDrag:!0,stackSizeLimit:void 0,beforeUndo:function(){},afterUndo:function(){},beforeRedo:function(){},afterRedo:function(){},ready:function(){}},actions:{},undoStack:[],redoStack:[],reset:function(t,n){this.undoStack=t||[],this.redoStack=t||[]},undo:function(){if(!this.isUndoStackEmpty()){var n=this.undoStack.pop();t.trigger("beforeUndo",[n.name,n.args]);var e=this.actions[n.name]._undo(n.args);return this.redoStack.push({name:n.name,args:e}),t.trigger("afterUndo",[n.name,n.args,e]),e}this.options.isDebug&&console.log("Undoing cannot be done because undo stack is empty!")},redo:function(){if(!this.isRedoStackEmpty()){var n=this.redoStack.pop();t.trigger(n.firstTime?"beforeDo":"beforeRedo",[n.name,n.args]),n.args||(n.args={}),n.args.firstTime=!!n.firstTime;var e=this.actions[n.name]._do(n.args);return this.undoStack.push({name:n.name,args:e}),void 0!=this.options.stackSizeLimit&&this.undoStack.length>this.options.stackSizeLimit&&this.undoStack.shift(),t.trigger(n.firstTime?"afterDo":"afterRedo",[n.name,n.args,e]),e}this.options.isDebug&&console.log("Redoing cannot be done because redo stack is empty!")},do:function(t,n){return this.redoStack.length=0,this.redoStack.push({name:t,args:n,firstTime:!0}),this.redo()},undoAll:function(){for(;!this.isUndoStackEmpty();)this.undo()},redoAll:function(){for(;!this.isRedoStackEmpty();)this.redo()},action:function(t,n,e){return this.actions[t]={_do:n,_undo:e},this},removeAction:function(t){delete this.actions[t]},isUndoStackEmpty:function(){return 0===this.undoStack.length},isRedoStackEmpty:function(){return 0===this.redoStack.length},getUndoStack:function(){return this.undoStack},getRedoStack:function(){return this.redoStack}};return n}(o);if(e(o,"instance",i),t){for(var u in t)i.options.hasOwnProperty(u)&&(i.options[u]=t[u]);if(t.actions)for(var u in t.actions)i.actions[u]=t.actions[u]}if(!n(o,"isInitialized")&&!r){var a=function(t){function e(t,n,r){for(var o=r?n:function(t){for(var n={},e=0;e<t.length;e++)n[t[e].id()]=!0;return t.filter(function(t,e){"number"==typeof t&&(t=e);for(var r=t.parent()[0];null!=r;){if(n[r.id()])return!1;r=r.parent()[0]}return!0})}(n),i=0;i<o.length;i++){var u=o[i],a=u.position("x"),c=u.position("y");u.isParent()||u.position({x:a+t.x,y:c+t.y});var s=u.children();e(t,s,!0)}}function r(n){return"string"==typeof n?t.$(n):n}function o(t){return r(t).restore()}function i(n){var e={};return t.nodes().positions(function(t,r){"number"==typeof t&&(t=r),e[t.id()]={x:t.position("x"),y:t.position("y")};var o=n[t.id()];return{x:o.x,y:o.y}}),e}function u(t){var n={};if(t.firstTime){var r=void 0==t.parentData?null:t.parentData,o=t.nodes.union(t.nodes.descendants());n.elesToRestore=o.union(o.connectedEdges()),n.movedEles=t.nodes.move({parent:r});var i={x:t.posDiffX,y:t.posDiffY};e(i,n.movedEles)}else n.elesToRestore=t.movedEles.remove(),n.movedEles=t.elesToRestore.restore();return t.callback&&(n.callback=t.callback,t.callback(n.movedEles)),n}function a(e,r){for(var o=[],i=n(t,"instance"),u=i.actions,a=0;a<e.length;a++){var c=e[a];if(!u.hasOwnProperty(c.name))throw"Action "+c.name+" does not exist as an undoable function"}for(var a=0;a<e.length;a++){var s,c=e[a];c.param.firstTime=e.firstTime,s="undo"==r?u[c.name]._undo(c.param):u[c.name]._do(c.param),o.unshift({name:c.name,param:s})}return o}return{add:{_do:function(n){return n.firstTime?t.add(n):o(n)},_undo:t.remove},remove:{_do:t.remove,_undo:o},restore:{_do:o,_undo:t.remove},select:{_do:function(t){return r(t).select()},_undo:function(t){return r(t).unselect()}},unselect:{_do:function(t){return r(t).unselect()},_undo:function(t){return r(t).select()}},move:{_do:function(t){var n=r(t.eles),e=n.nodes(),o=n.edges();return{oldNodes:e,newNodes:e.move(t.location),oldEdges:o,newEdges:o.move(t.location)}},_undo:function(n){var e=t.collection(),r={};if(n.newNodes.length>0){r.parent=n.newNodes[0].parent();for(var o=0;o<n.newNodes.length;o++){var i=n.newNodes[o].move({parent:n.oldNodes[o].parent()});e.union(i)}}else{r.source=r.newEdges[0].source(),r.target=r.newEdges[0].target();for(var o=0;o<n.newEdges.length;o++){var u=n.newEdges[o].move({source:n.oldEdges[o].source(),target:n.oldEdges[o].target()});e.union(u)}}return{eles:e,location:r}}},drag:{_do:function(t){return t.move&&e(t.positionDiff,t.nodes),t},_undo:function(t){var n={x:-1*t.positionDiff.x,y:-1*t.positionDiff.y},r={positionDiff:t.positionDiff,nodes:t.nodes,move:!0};return e(n,t.nodes),r}},layout:{_do:function(n){if(n.firstTime){var e,o=function(){for(var n={},e=t.nodes(),r=0;r<e.length;r++){var o=e[r];n[o.id()]={x:o.position("x"),y:o.position("y")}}return n}();return(e=n.eles?r(n.eles).layout(n.options):t.layout(n.options))&&e.run&&e.run(),o}return i(n)},_undo:function(t){return i(t)}},changeParent:{_do:function(t){return u(t)},_undo:function(t){return u(t)}},batch:{_do:function(t){return a(t,"do")},_undo:function(t){return a(t,"undo")}}}}(o);for(var u in a)i.actions[u]=a[u];!function(t,e){var r=null;t.on("grab","node",function(){("function"==typeof e?e.call(this):e)&&((r={}).lastMouseDownPosition={x:this.position("x"),y:this.position("y")},r.node=this)}),t.on("free","node",function(){var o=n(t,"instance");if("function"==typeof e?e.call(this):e){if(null==r)return;var i=r.node,u=r.lastMouseDownPosition,a={x:i.position("x"),y:i.position("y")};if(a.x!=u.x||a.y!=u.y){var c,s={x:a.x-u.x,y:a.y-u.y};c=i.selected()?t.nodes(":visible").filter(":selected"):t.collection([i]);var f={positionDiff:s,nodes:c,move:!1};o.do("drag",f),r=null}}})}(o,i.options.undoableDrag),e(o,"isInitialized",!0)}return i.options.ready(),i})};void 0!==t&&t.exports&&(t.exports=o),void 0===(r=function(){return o}.call(n,e,n,t))||(t.exports=r),"undefined"!=typeof cytoscape&&o(cytoscape)}()},function(t,n,e){var r=e(5),o=e(28),i=e(0),u=e(27),a=e(3),c=e(2),s=e(1),f=function(t){function n(n){var e;return(e=t.call(this,n)||this)._init(),e}!function(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n}(n,t);var e=n.prototype;return e.getDefaultCfg=function(){return{_components:[],shortcut:{copy:!0,paste:!0,delete:!0},behaviors:[]}},e._init=function(){},e._initGraph=function(){var t=this._cfg.graph;t&&(this.graph=r(t))},e._initAction=function(){var t=this;this.registerExtension(o),this.action=this.graph.undoRedo({}),i.each(u,function(n){t.registerAction(n.name,n._do.bind(t),n._undo.bind(t))})},e._bindShortcut=function(){var t=this,n=this.get("shortcut");document.addEventListener("keydown",function(e){for(var r=a.list.filter(function(t){return t.shortcuts&&n[t.name]}),o=0;o<r.length;o++){var i=r[o];if(t._shortcutEnabled(i,e))return a.execute(t,i.name,{byShortcut:!0}),!1}})},e._shortcutEnabled=function(t,n){for(var e=t.shortcuts,r=i.getKeyboardChar(n),o=!1,u=0;u<e.length;u++){var a=e[u];if(Array.isArray(a)){for(var c=!0,s=0;s<a.length-1;s++)if(!n[a[s]]){c=!1;break}a[a.length-1]===r&&c&&(o=!0)}else a===r&&(o=!0);if(o)break}return o},e._bindEvent=function(){var t=this;this.graph.on(["select","unselect"],function(n){t.updateCommandDomState()}),this.graph.on("mousemove",function(n){t.graph.scratch("_mousePosition",n.position||n.cyPosition)})},e.executeCommand=function(t,n){a.execute(this,t,n)},e.getComponentByType=function(t){return this.get("_components").find(function(n){return n.type===t})},e._beforeAddGraph=function(){},e._afterAddGraph=function(t){var n=this,e=t.controller;this.graph=e,this.action=e.undoRedo({}),i.each(u,function(t){n.registerAction(t.name,t._do.bind(n),t._undo.bind(n))}),e.on("mousemove",function(t){e.scratch("_mousePosition",t.position||t.cyPosition)}),this._bindShortcut(),c.list.forEach(function(t){t.callback&&t.callback(n)}),i.each(this.get("behaviors"),function(t){if(t=i.isString(t)?{type:t}:t,s.getBehavior(t.type)){var e=new(s.getBehavior(t.type))(t);e&&e.bind(n.graph)}})},e._afterAddToolbar=function(t){var n=this,e=t.controller;if(e){var r=e.getCommandDoms();i.each(r,function(t){var e=t.dataset.command;i.addEventListener(t,"click",function(){a.execute(n,e,{})})})}},e.updateCommandDomState=function(){var t=this,n=this.getComponentByType("toolbar").controller;if(n){var e=n.getCommandDoms();i.each(e,function(n){var e=n.dataset.command;a.enable(t,e)?n.classList.remove("disable"):n.classList.add("disable")})}},e.addComponent=function(t){var n=this.get("_components"),e=i.upperFirst(t.type),r="_beforeAdd"+e,o="_afterAdd"+e;this[r]&&this[r](t),n.push(t),this[o]&&this[o](t)},e.createExtension=function(t,n,e){r(t,n,e)},e.registerExtension=function(t,n){void 0===n&&(n=[]),n.length?t.apply(void 0,[r].concat(n)):r.use(t)},e.initExtension=function(){var t=this;c.list.forEach(function(n){n.init(t)})},e.registerAction=function(t,n,e){this.action.action(t,n.bind(this),e.bind(this))},e.getGraph=function(){var t=this.getComponentByType("graph");if(t)return t.controller},e.destroy=function(){var t=this;i.each(this.get("behaviors"),function(n){if(s.getBehavior(n.type)){var e=new(s.getBehavior(n.type))(n);e&&e.unbind(t.graph)}}),this.get("_components").forEach(function(t){t.controller.destroy()}),this.set("_components",[])},n}(e(9));t.exports=f},function(t,n,e){var r=e(5),o=e(29),i=o;i.Editor=o,i.Graph=r,i.Toolbar=e(7),i.registerCommand=e(3).register,i.registerBehavior=e(1).register,i.registerExtension=e(2).register,t.exports=i}])});
//# sourceMappingURL=cytoscape-editor-core.js.map